<!doctype html>
<html lang="zh-CN">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link href="./css/style.css" rel="stylesheet" />
    <title>获取相机</title>
  </head>
  <body class="bg-gray-100 min-h-screen">
    <div class="container mx-auto px-4 py-8">
      <!-- Video Display Section -->
      <div class="mb-8 grid grid-cols-1 md:grid-cols-2 gap-4">
        <div>
          <h3 class="text-lg font-medium mb-2">实时预览</h3>
          <video id="video" class="w-full rounded-lg shadow-lg" autoplay playsinline></video>
        </div>
        <div>
          <h3 class="text-lg font-medium mb-2">录制回放</h3>
          <video id="replayVideo" class="w-full rounded-lg shadow-lg" controls></video>
        </div>
      </div>

      <!-- Controls Section -->
      <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
        <!-- Button Group 1 -->
        <div class="bg-white p-6 rounded-lg shadow-md">
          <h2 class="text-xl font-semibold mb-4">视频控制</h2>
          <div class="grid grid-cols-2 sm:grid-cols-3 gap-4">
            <button id="getCamera" class="btn-primary">获取相机</button>
            <button id="play" class="btn-primary">播放</button>
            <button id="pause" class="btn-primary">暂停</button>
            <button id="startRecord" class="btn-primary">开始录制</button>
            <button id="stopRecord" class="btn-primary">停止录制</button>
            <button id="replayRecord" class="btn-primary">回放录制</button>
          </div>
        </div>

        <!-- Device Selection Section -->
        <div class="bg-white p-6 rounded-lg shadow-md">
          <h2 class="text-xl font-semibold mb-4">设备选择</h2>
          <div class="space-y-4">
            <div>
              <label class="block text-sm font-medium text-gray-700 mb-2">音频输入</label>
              <select id="audioInput" class="w-full p-2 border rounded-md"></select>
            </div>
            <div>
              <label class="block text-sm font-medium text-gray-700 mb-2">音频输出</label>
              <select id="audioOutput" class="w-full p-2 border rounded-md"></select>
            </div>
            <div>
              <label class="block text-sm font-medium text-gray-700 mb-2">视频输入</label>
              <select id="videoInput" class="w-full p-2 border rounded-md"></select>
            </div>
          </div>
        </div>
      </div>

      <!-- Video Size Input Section -->
      <div class="mt-8 bg-white p-6 rounded-lg shadow-md">
        <h2 class="text-xl font-semibold mb-4">视频尺寸设置</h2>
        <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
          <div>
            <label class="block text-sm font-medium text-gray-700 mb-2">宽度</label>
            <input
              value="1280"
              type="number"
              id="videoWidth"
              class="w-full p-2 border rounded-md"
              placeholder="输入宽度" />
          </div>
          <div>
            <label class="block text-sm font-medium text-gray-700 mb-2">高度</label>
            <input
              value="720"
              type="number"
              id="videoHeight"
              class="w-full p-2 border rounded-md"
              placeholder="输入高度" />
          </div>
          <div class="col-span-2">
            <button id="toggleSize" class="btn-primary w-full">切换视频大小</button>
          </div>
        </div>
      </div>

      <!-- Screen Capture Section -->
      <div class="mt-8 bg-white p-6 rounded-lg shadow-md">
        <h2 class="text-xl font-semibold mb-4">屏幕捕获</h2>
        <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
          <div>
            <h3 class="text-lg font-medium mb-2">屏幕预览</h3>
            <video id="screenPreview" class="w-full rounded-lg shadow-lg" autoplay playsinline></video>
          </div>
          <div class="space-y-4">
            <button id="startScreenCapture" class="btn-primary w-full">开始捕获屏幕</button>
            <button id="stopScreenCapture" class="btn-primary w-full">停止捕获屏幕</button>
            <button id="captureScreen" class="btn-primary w-full">截图</button>
          </div>
        </div>
      </div>
    </div>
    <script type="module" src="./scripts/app.ts"></script>
  </body>
</html>
